<label class="switch">
  <input type="checkbox" id="light-mode-switch">
  <span class="slider"></span>
</label>
<script>
  const mode = localStorage.getItem('lightmode') === 'true'
  const html = document.querySelector('html')

  html.dataset.theme = `theme-${mode ? 'dark' : 'light'}`
  document.getElementById("light-mode-switch").checked = mode
  document.getElementById("light-mode-switch").addEventListener("click", function() {
    html.dataset.theme = `theme-${this.checked ? 'dark' : 'light'}`
    localStorage.setItem('lightmode', this.checked)
    })
</script>